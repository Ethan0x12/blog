---
title: 区块链代币标准详解：ERC-20、ERC-721、ERC-1155及元数据
publishedAt: 2025-10-16
summary: 深入解析以太坊生态中的主要代币标准（ERC-20、ERC-721、ERC-1155）及其元数据规范，了解不同类型代币的技术实现与应用场景。
tags:
  - web3
  - 以太坊
  - 智能合约
  - 代币标准
---

# 区块链代币标准详解

在区块链世界中，代币标准定义了如何创建、转移和管理数字资产的规则和接口。以太坊生态系统中的ERC（Ethereum Request for Comments）代币标准最为广泛使用，本文将详细介绍主要的代币标准及其应用。

## ERC-20：同质化代币标准

### 概述
ERC-20是以太坊上第一个也是最广泛使用的代币标准，定义了同质化代币（Fungible Token）的基本功能和接口。同质化代币的特点是每个代币都是可互换的，具有相同的价值和属性。

### 核心接口
ERC-20标准要求实现以下核心函数和事件：

#### 基本函数
- `totalSupply()`：返回代币总供应量
- `balanceOf(address account)`：返回指定地址的代币余额
- `transfer(address recipient, uint256 amount)`：将代币从调用者地址转移到指定接收者地址
- `allowance(address owner, address spender)`：返回授权给spender的代币额度
- `approve(address spender, uint256 amount)`：授权spender花费指定数量的代币
- `transferFrom(address sender, address recipient, uint256 amount)`：从sender转移代币到recipient

#### 事件
- `Transfer(address indexed from, address indexed to, uint256 value)`：当代币被转移时触发
- `Approval(address indexed owner, address indexed spender, uint256 value)`：当授权发生变化时触发

### 应用场景
- 加密货币（如USDT、USDC、DAI等稳定币）
- 平台代币（如UNI、AAVE等）
- DeFi协议中的治理代币
- 支付网络和价值转移系统

### 安全考量
- **授权攻击**：应避免无限授权，使用精确授权额度
- **重入攻击**：实现转账时应遵循检查-效果-交互模式
- **整数溢出**：使用SafeMath库或Solidity 0.8.0+版本的内置溢出检查

## ERC-721：非同质化代币标准

### 概述
ERC-721定义了非同质化代币（Non-Fungible Token，简称NFT）的标准，每个代币都具有唯一性和不可替代性，可以代表独特的数字或实物资产。

### 核心接口
ERC-721标准要求实现以下核心功能：

#### 基本函数
- `balanceOf(address owner)`：返回地址拥有的NFT数量
- `ownerOf(uint256 tokenId)`：返回特定tokenId的拥有者地址
- `transferFrom(address from, address to, uint256 tokenId)`：转移NFT所有权
- `approve(address to, uint256 tokenId)`：授权指定地址转移特定NFT
- `setApprovalForAll(address operator, bool approved)`：授权/撤销对所有NFT的管理权
- `getApproved(uint256 tokenId)`：查询特定NFT的授权地址
- `isApprovedForAll(address owner, address operator)`：检查operator是否有owner所有NFT的管理权

#### 事件
- `Transfer(address indexed from, address indexed to, uint256 indexed tokenId)`：当NFT所有权转移时触发
- `Approval(address indexed owner, address indexed approved, uint256 indexed tokenId)`：当NFT授权变更时触发
- `ApprovalForAll(address indexed owner, address indexed operator, bool approved)`：当批量授权变更时触发

### 应用场景
- 数字艺术品和收藏品（如CryptoPunks、Art Blocks）
- 游戏内资产和装备
- 虚拟土地和元宇宙资产
- 现实资产的数字凭证（如房地产、奢侈品）
- 身份和会员资格证明

### 扩展标准
- **ERC-721Metadata**：提供代币名称、符号和URI等元数据信息
- **ERC-721Enumerable**：允许枚举合约中所有NFT

## ERC-1155：多类型代币标准

### 概述
ERC-1155是一种多功能代币标准，由Enjin团队提出，能够在单个合约中同时管理同质化代币和非同质化代币，大大提高了交易效率和降低了Gas成本。

### 核心特性
- **多代币支持**：单一合约可包含多种代币类型
- **批量操作**：支持一次交易中转移多种代币
- **半同质化代币**：支持同类型多个代币（如游戏中的相同装备）
- **Gas优化**：批量操作显著降低了交易成本

### 核心接口
- `balanceOf(address account, uint256 id)`：返回账户持有的特定ID代币数量
- `balanceOfBatch(address[] accounts, uint256[] ids)`：批量查询多个账户的多个代币余额
- `setApprovalForAll(address operator, bool approved)`：授权/撤销操作员管理所有代币
- `isApprovedForAll(address account, address operator)`：检查操作员是否有账户所有代币的管理权
- `safeTransferFrom(address from, address to, uint256 id, uint256 amount, bytes data)`：安全转移代币
- `safeBatchTransferFrom(address from, address to, uint256[] ids, uint256[] amounts, bytes data)`：批量安全转移代币

### 应用场景
- 游戏资产（可同时管理不同类型的游戏内物品）
- NFT集合（可在同一合约中管理多个系列的NFT）
- DeFi协议（可同时支持同质化和非同质化代币交互）
- 跨游戏资产平台

### 优势与改进
- 比ERC-20和ERC-721更灵活
- 批量操作大幅节省Gas
- 同一合约简化了资产管理
- 支持更复杂的代币交互场景

## 代币元数据

### 概述
代币元数据定义了代币的描述信息，使代币能够在钱包和市场中正确显示和识别。对于NFT尤其重要，因为它们需要展示丰富的属性和媒体内容。

### ERC-20元数据
ERC-20扩展接口提供基本元数据：
- `name()`：代币名称（如"Dai Stablecoin"）
- `symbol()`：代币符号（如"DAI"）
- `decimals()`：代币小数位数（通常为18）

### ERC-721元数据
ERC-721标准通过URI指向外部元数据JSON文件，该文件应包含：
```json
{
  "name": "资产名称",
  "description": "资产描述",
  "image": "https://example.com/image.png",
  "attributes": [
    {
      "trait_type": "属性类型",
      "value": "属性值"
    }
    // 更多属性...
  ]
}
```

### ERC-1155元数据
ERC-1155采用相似的元数据结构，但通过baseURI和tokenId组合生成完整URI：
- `uri(uint256 id)`：返回特定代币ID的元数据URI模板

### 元数据存储方案

#### 中心化存储
- **优势**：简单、成本低、易于更新
- **劣势**：违背区块链去中心化精神，可能导致链接失效

#### 去中心化存储
- **IPFS**：分布式文件系统，通过内容寻址存储文件，确保永久性
- **Arweave**：永久存储网络，一次付费永久保存
- **Filecoin**：去中心化存储网络，提供存储证明和激励机制

### 最佳实践
- 使用不可变的去中心化存储（IPFS/Arweave）
- 为元数据创建永久链接
- 确保元数据包含足够丰富的信息
- 对于NFT，提供高质量的媒体文件和详细的属性

## 代币标准比较

| 特性 | ERC-20 | ERC-721 | ERC-1155 |
|------|--------|---------|----------|
| 代币类型 | 同质化 | 非同质化 | 多类型（同质化+非同质化） |
| 唯一性 | 无 | 每个代币唯一 | 可选择 |
| 批量操作 | 不支持 | 不支持 | 支持 |
| Gas效率 | 中等 | 较高 | 最高 |
| 元数据 | 基本（名称、符号、小数位） | 丰富（媒体、属性） | 灵活 |
| 适用场景 | 加密货币、DeFi代币 | 独特数字资产、收藏品 | 游戏资产、多类型资产 |

## 未来发展趋势

### 账户抽象与代币标准
随着EIP-4337（账户抽象）的发展，代币标准可能会与智能合约钱包集成，提供更复杂的权限管理和自动执行功能。

### 跨链代币标准
随着跨链技术的成熟，需要更通用的跨链代币标准，使资产能够在不同区块链网络间无缝转移。

### 隐私保护代币
结合零知识证明技术，开发支持隐私交易的代币标准，保护用户交易隐私。

### 可编程代币
支持更复杂逻辑的代币标准，使代币能够响应外部事件或执行预设条件的操作。

## 总结

以太坊代币标准的发展反映了区块链资产从简单的加密货币向多样化数字资产的演变过程。ERC-20奠定了同质化代币的基础，ERC-721开创了数字唯一性资产的可能性，而ERC-1155则通过多类型支持和Gas优化为更复杂的应用场景提供了解决方案。

随着区块链技术的不断发展，我们可以期待更多创新的代币标准出现，以满足不断变化的市场需求和应用场景。作为开发者，了解这些标准的技术细节和应用场景，对于构建高效、安全的Web3应用至关重要。